<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Qu·∫£n l√Ω S√¢n - Admin</title>
  <link rel="stylesheet" href="/css/admin.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="/js/admin-courts.js" defer></script>
</head>
<body>

<!-- Navbar -->
<header class="navbar">
  <div class="logo">üèì PickleBall Admin</div>
  <div class="nav-links">
    <a href="/admin">Trang ch·ªß</a>
    <a href="/logout">ƒêƒÉng xu·∫•t</a>
  </div>
</header>

<!-- Sidebar + Main -->
<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <button class="menu-toggle" onclick="toggleSidebar()">
      <i class="fas fa-bars"></i>
    </button>
    <nav class="menu">
      <ul>
        <li><a href="/admin/courts" class="active"><i class="fas fa-volleyball-ball"></i> <span>Qu·∫£n l√Ω S√¢n</span></a></li>
        <li><a href="/admin/bookings"><i class="fas fa-calendar-check"></i> <span>Qu·∫£n l√Ω ƒê·∫∑t S√¢n</span></a></li>
        <li><a href="/admin/products"><i class="fas fa-shopping-cart"></i> <span>Qu·∫£n l√Ω S·∫£n ph·∫©m</span></a></li>
        <li><a href="/admin/users"><i class="fas fa-users"></i> <span>Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</span></a></li>
      </ul>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="main-content">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h2>Danh s√°ch s√¢n</h2>
      <button id="openModalBtn" class="btn-primary">‚ûï Th√™m s√¢n m·ªõi</button>
    </div>

    <table class="court-table">
      <thead>
      <tr>
        <th>ID</th>
        <th>T√™n s√¢n</th>
        <th>ƒê·ªãa ch·ªâ</th>
        <th>Lo·∫°i</th>
        <th>Gi√° (VNƒê)</th>
        <th>Tr·∫°ng th√°i</th>
        <th>H√†nh ƒë·ªông</th>
      </tr>
      </thead>
      <tbody id="courtTableBody">
      <tr th:each="court : ${courts}">
        <td th:text="${court.id}">1</td>
        <td th:text="${court.name}">T√™n s√¢n</td>
        <td th:text="${court.location}">ƒê·ªãa ch·ªâ</td>
        <td th:text="${court.type}">Lo·∫°i</td>
        <td th:text="${#numbers.formatDecimal(court.pricePerHour, 0, 'COMMA', 0, 'POINT')}">Gi√°</td>
        <td>
          <span th:text="${court.active} ? 'ƒêang ho·∫°t ƒë·ªông' : 'Ng∆∞ng ho·∫°t ƒë·ªông'"></span>
        </td>
        <td>
          <button class="btn-edit" th:attr="data-id=${court.id}">S·ª≠a</button>
          <button class="btn-delete" th:attr="data-id=${court.id}">X√≥a</button>
        </td>
      </tr>
      </tbody>

    </table>
  </main>
</div>

<!-- Modal Th√™m/S·ª≠a s√¢n -->
<div id="courtModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="closeModalBtn">&times;</span>
    <h2>Th√™m / S·ª≠a s√¢n</h2>
    <form id="courtForm">
      <input type="hidden" id="courtId" name="courtId">

      <label for="name">T√™n s√¢n:</label>
      <input type="text" id="name" name="name" required>

      <label for="location">ƒê·ªãa ch·ªâ:</label>
      <input type="text" id="location" name="location" required>

      <!-- Link h√¨nh ·∫£nh -->
      <label for="imageUrl">Link h√¨nh ·∫£nh:</label>
      <input type="text" id="imageUrl" name="imageUrl" placeholder="Nh·∫≠p ƒë∆∞·ªùng d·∫´n h√¨nh ·∫£nh" />

      <!-- Tr·∫°ng th√°i ho·∫°t ƒë·ªông -->
      <label for="active">
        <input type="checkbox" id="active" name="active" />
        ƒêang ho·∫°t ƒë·ªông
      </label>


      <label for="type">Lo·∫°i s√¢n:</label>
      <select id="type" name="type" required>
        <option value="">-- Ch·ªçn lo·∫°i --</option>
        <option value="indoor">Trong nh√†</option>
        <option value="outdoor">Ngo√†i tr·ªùi</option>
        <option value="premium">VIP</option>
      </select>

      <label for="pricePerHour">Gi√° thu√™ (VNƒê/gi·ªù):</label>
      <input type="number" id="pricePerHour" name="pricePerHour" required>

      <label for="description">M√¥ t·∫£:</label>
      <textarea id="description" name="description"></textarea>

      <button type="submit" class="btn-primary">L∆∞u</button>
    </form>
  </div>
</div>

<link rel="stylesheet" href="/css/modal.css">
<script src="/js/admin.js" defer></script>

</body>
</html>
