<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/master}">

<head>
    <title>Chi tiแบฟt ฤฦกn hรng</title>
    <th:block layout:fragment="styles">
        <link rel="stylesheet" href="/css/order-detail.css">
    </th:block>
</head>

<body>
<div layout:fragment="content">
    <main class="order-detail-container">
        <div class="order-detail-wrapper">
            <h2>๐งพ Chi tiแบฟt ฤฦกn hรng</h2>

            <p><strong>Mรฃ ฤฦกn hรng:</strong> <span th:text="${order.id}">#123</span></p>
            <p><strong>Ngรy ฤแบทt:</strong> <span th:text="${order.createdAt}">--</span></p>
            <p><strong>Tแปng tiแปn:</strong> <span th:text="${totalPriceFormatted}">0 ฤ</span></p>

            <!-- Xรกc nhแบญn nhแบญn hรng -->
            <div th:if="${order.status != 'RECEIVED'}" class="confirm-receive">
                <form method="post" th:action="@{'/orders/' + ${order.id} + '/receive'}">
                    <label class="confirm-label">
                        <input type="checkbox" onchange="this.form.submit()"> Tรดi ฤรฃ nhแบญn ฤฦฐแปฃc hรng
                    </label>
                </form>
            </div>

            <p th:if="${order.status == 'RECEIVED'}" style="color: green; font-weight: bold;">
                โ Cแบฃm ฦกn quรฝ khรกch ฤรฃ xรกc nhแบญn ฤฦกn hรng!
            </p>

            <h3>๐ Sแบฃn phแบฉm trong ฤฦกn:</h3>
            <table class="order-detail-table">
                <thead>
                <tr>
                    <th>Tรชn sแบฃn phแบฉm</th>
                    <th>Sแป lฦฐแปฃng</th>
                    <th>Thรnh tiแปn</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="item, iterStat : ${items}">
                    <td th:text="${item.product.name}">รo</td>
                    <td th:text="${item.quantity}">1</td>
                    <td th:text="${formattedPrices[iterStat.index]}">200.000 ฤ</td>
                </tr>
                </tbody>
            </table>

            <div class="order-detail-actions">
                <a href="/orders" class="btn btn-secondary">โฌ Quay lแบกi danh sรกch ฤฦกn hรng</a>
                <a href="/support" class="btn btn-primary">๐ฌ Hแป trแปฃ vแป ฤฦกn hรng</a>
            </div>
        </div>
    </main>
</div>
</body>
</html>
